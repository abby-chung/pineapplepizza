import{c as j,r as d,j as e,a as k,R as b,B as m,L as S}from"./index-choWvbga.js";import{u as B,C as L,a as z,b as R,c as M,d as T}from"./seo-DvSMjAWa.js";import{B as E}from"./badge-UJgrqyu_.js";import{b as g}from"./posts-F5rY98xi.js";import{S as G}from"./search-BBT6Bo2b.js";import{C as I}from"./calendar-Do9k3HzJ.js";import{C as D}from"./clock-BhGb93eU.js";import{G as F}from"./globe-DcMjUmjW.js";const A=j("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const $=j("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),v=d.forwardRef(({className:s,type:t,...l},c)=>e.jsx("input",{type:t,className:k("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:c,...l}));v.displayName="Input";const p=6,Q=({post:s})=>e.jsxs(L,{className:"hover:shadow-lg transition-shadow group",children:[e.jsx(z,{children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map(t=>e.jsx(E,{variant:"secondary",className:"text-xs",children:t},t))}),e.jsx(R,{className:"text-2xl group-hover:text-primary transition-colors",children:e.jsx(S,{to:`/blog/${s.slug}`,"aria-label":`Read blog post: ${s.title}`,children:s.title})}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(I,{className:"h-4 w-4","aria-hidden":"true"}),e.jsx("span",{children:s.date})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"h-4 w-4","aria-hidden":"true"}),e.jsx("span",{children:s.readTime})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(F,{className:"h-4 w-4","aria-hidden":"true"}),e.jsx("span",{children:s.language})]})]})]})})}),e.jsx(M,{children:e.jsx(T,{className:"text-base leading-relaxed",children:s.excerpt})})]}),_=({currentPage:s,totalPages:t,onPageChange:l})=>{const c=()=>{const i=[],n=[];for(let o=Math.max(2,s-2);o<=Math.min(t-1,s+2);o++)i.push(o);return s-2>2?n.push(1,"..."):n.push(1),n.push(...i),s+2<t-1?n.push("...",t):t>1&&n.push(t),n};return t<=1?null:e.jsxs("nav",{className:"flex items-center justify-center space-x-2","aria-label":"Blog pagination",children:[e.jsx(m,{variant:"outline",size:"sm",onClick:()=>l(s-1),disabled:s===1,"aria-label":"Go to previous page",className:"rounded-full",children:e.jsx(A,{className:"h-4 w-4"})}),c().map((r,i)=>e.jsx(b.Fragment,{children:r==="..."?e.jsx("span",{className:"px-3 py-2 text-muted-foreground",children:"..."}):e.jsx(m,{variant:s===r?"default":"outline",size:"sm",onClick:()=>l(r),"aria-label":`Go to page ${r}`,"aria-current":s===r?"page":void 0,className:"rounded-full min-w-[40px]",children:r})},i)),e.jsx(m,{variant:"outline",size:"sm",onClick:()=>l(s+1),disabled:s===t,"aria-label":"Go to next page",className:"rounded-full",children:e.jsx($,{className:"h-4 w-4"})})]})},U=()=>{const[s,t]=d.useState(""),[l,c]=d.useState(null),[r,i]=d.useState(1);B({title:"Blog",description:"Explore all blog posts covering coffee, books, movies, photography, and technical learning. Discover articles and insights on various topics.",keywords:"blog posts, articles, coffee, learning, technology, photography, movies, books",canonical:"https://abby-chung.github.io/pineapplepizza/blog",ogTitle:"Blog - Pineapple Pizza",ogDescription:"Read blog posts about coffee, books, movies, photography, and technical learning.",ogType:"website"});const n=d.useMemo(()=>{const a=g.flatMap(u=>u.tags);return Array.from(new Set(a))},[]),o=d.useMemo(()=>g.filter(a=>{const u=s===""||a.title.toLowerCase().includes(s.toLowerCase())||a.excerpt.toLowerCase().includes(s.toLowerCase())||a.tags.some(C=>C.toLowerCase().includes(s.toLowerCase())),y=l===null||a.tags.includes(l);return u&&y}),[s,l]),h=Math.ceil(o.length/p),x=(r-1)*p,f=x+p,N=o.slice(x,f);b.useEffect(()=>{i(1)},[s,l]);const w=a=>{i(a),window.scrollTo({top:0,behavior:"smooth"})};return e.jsxs("div",{className:"max-w-3xl mx-auto space-y-8 fade-in",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Blog"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Thoughts, experiences, and learnings from my journey through coffee, books, movies, and code."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative max-w-md mx-auto",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground","aria-hidden":"true"}),e.jsx(v,{type:"text",placeholder:"Search posts...",value:s,onChange:a=>t(a.target.value),className:"pl-10 rounded-full","aria-label":"Search blog posts"})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-2",role:"group","aria-label":"Filter posts by category",children:[e.jsx(m,{variant:l===null?"default":"outline",size:"sm",onClick:()=>c(null),className:"rounded-full","aria-pressed":l===null,children:"All"}),n.map(a=>e.jsx(m,{variant:l===a?"default":"outline",size:"sm",onClick:()=>c(a),className:"rounded-full","aria-pressed":l===a,children:a},a))]})]}),e.jsx("div",{className:"space-y-6",children:o.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"No posts found matching your criteria."})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid gap-6",role:"main","aria-label":"Blog posts",children:N.map(a=>e.jsx(Q,{post:a},a.id))}),e.jsx(_,{currentPage:r,totalPages:h,onPageChange:w})]})}),e.jsx("div",{className:"text-center text-sm text-muted-foreground",children:o.length===0?"No posts found":e.jsxs(e.Fragment,{children:["Showing ",x+1,"-",Math.min(f,o.length)," of ",o.length," posts",h>1&&e.jsxs("span",{className:"block mt-1",children:["Page ",r," of ",h]})]})})]})};export{U as default};
